---
layout:     post
title:      "wlexec 将shell命令执行到天荒地老"
subtitle:   
date:       2020-04-24
author:     胖胖很瘦
thumbnail:  /images/b6caf990/thumbnail.png
catalog: true
categories: python杂谈
original_url: https://mp.weixin.qq.com/s/lZHB-w1JHuj0xoRm2vi8aw
tags:
    - python杂谈
---

![](/images/b6caf990/1.png)

**假装是正经标题**

最近在家办公, 家里的网慢的跟\*\*一样, 执行个命令没有个百八十次, 不会成功, 就很烦

然后, 就想百度个脚本, 能一直执行某个命令, 直到天荒地老, 或者成功

百度......, 也没个结果, 自己就一边学shell, 一边写工具, 终于哈哈哈哈~, 写完了

由于自己才疏学浅, 就随便起了个名, 叫wlexec

意思就是while execute(英文不好, 就这样吧)

**项目地址**

```
https://github.com/Mehaei/wlexec
```

**开始干活吧!**

下载脚本项目

```
git clone https://github.com/Mehaei/wlexec.git
cd wlexec
```

设置环境变量

就是将脚本加入到系统环境变量中, 当做系统命令来调用

### linux

```
chmod u+x wlexec
sudo mv wlexec /bin/
```

### mac

```
vi ~/.bash_profile
alias wlexec="bash {project_dir}/wlexec"
source ~/.bash_profile
chmod u+x wlexec
```

加到系统环境变量后, 就可以直接使用**wlexec**了

尝试使用中

## 

**使用格式**

```
wlexec "shell command" attempts
```

### 

### 查看帮助

```
wlexec 
或
wlexec --help
或
wlexec -H
```

### 

### 查看版本

```
wlexec --version
或 
wlexec -V
```

### **尝试执行命令**

比如执行 安装requests包

```
wlexec "pip install requests"
```

(我本地是安装过了的)

执行成功如下图

![](/images/b6caf990/2.png)

下面测试写错命令, 只尝试执行2次

```
wlexec "pip installs requests" 2
```

执行结果如下图

![](/images/b6caf990/3.png)

这个脚本在网络不好的时候, 下载或上传代码还是挺有用的

以上就是这篇文章的全部内容, 谢谢支持

往期精彩回顾

[pymongo创建hash和text索引](http://mp.weixin.qq.com/s?__biz=MzUyMzk3OTYyMQ==&mid=2247483854&idx=1&sn=c2c0c6a009bc50d08d2e826a9916ccd5&chksm=fa351fc4cd4296d26d991f0719245c39ed8bf36d4c7cd624ca89ad1bedda247ea12ec75f33a4&scene=21#wechat_redirect)

  

[python变量和数据类型](http://mp.weixin.qq.com/s?__biz=MzUyMzk3OTYyMQ==&mid=2247483848&idx=1&sn=d3715217de50fa56e9fde282e69b16e5&chksm=fa351fc2cd4296d484c47e0e104c8fa772a563a778f4634a0cad9234bb1d08a851b69dd5e012&scene=21#wechat_redirect)

[python的基本命名和语法](http://mp.weixin.qq.com/s?__biz=MzUyMzk3OTYyMQ==&mid=2247483842&idx=1&sn=50e67981ff984213b15c66f635096294&chksm=fa351fc8cd4296dea5ad22632d47edececb3a82718a24ff113bd53f20057236a8ca2d2f68293&scene=21#wechat_redirect)