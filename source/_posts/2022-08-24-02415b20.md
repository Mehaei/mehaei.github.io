---
layout:     post
title:      "pyppeteer_stealthéšè—pyppeteerç‰¹å¾å¤©èŠ±æ¿ç¥å™¨"
subtitle:   
date:       2022-08-24
author:     Mehaei
thumbnail:  /images/02415b20/thumbnail.png
catalog: true
categories: è‡ªåŠ¨åŒ–
original_url: https://mp.weixin.qq.com/s/Bs47CAFy7Gpts81BJ3bHmQ
tags:
    - è‡ªåŠ¨åŒ–
    - pythonæ‚è°ˆ
    - python
    - è°·æ­Œ
---

**ä¸»è§’ç™»åœº**

> https://github.com/MeiK2333/pyppeteer\_stealth

ç¬¬ä¸€çœ¼çœ‹ä¹Ÿèƒ½çŒœå‡ºæ¥æ˜¯å¹²å•¥çš„, å°±æ˜¯ç”¨æ¥éšè—pyppeteerç‰¹å¾çš„, è¯ä¸å¤šè¯´, ç›´æ¥å¼€å¹², æ¥æµ‹ä¸€ä¸‹å°±çŸ¥é“å®ƒçš„ç¥å¥‡ä¹‹å¤„äº†

**å®‰è£…**

```
pipÂ installÂ pyppeteer_stealth
```

**ä½¿ç”¨**

```
import asyncio
from pyppeteer import launch
from pyppeteer_stealth import stealth

async def main():
    browser = await launch(headless=True)
    page = await browser.newPage()
Â Â Â Â ###
    await stealth(page)  # <-- Here
Â Â Â Â ###
    await page.goto("https://bot.sannysoft.com/")
    await browser.close()
asyncio.get_event_loop().run_until_complete(main())
```

**å‚æ•°**

```
stealth(
  page: Page,
  run_on_insecure_origins: bool = False,
  languages: [str] = ["en-US", "en"],
  vendor: str = "Google Inc."
  user_agent: str = None,
  locale: str = "en-US,en",
  mask_linux: bool = True,
  webgl_vendor: str = "Intel Inc.",
  renderer: str = "Intel Iris OpenGL Engine",
  disabled_evasions: list = [],
)
```

ç¦æ­¢éšè—çš„ç‰¹å¾disabled\_evasions , æ”¯æŒéšè—çš„å‚æ•°

```
['chrome_app',
 'chrome_runtime',
 'iframe_content_window',
 'media_codecs',
 'sourceurl',
 'navigator_hardware_concurrency',
 'navigator_languages',
 'navigator_permissions',
 'navigator_plugins',
 'navigator_vendor',
 'navigator_webdriver',
 'user_agent_override',
 'webgl_vendor',
 'window_outerdimensions']
```

**ä½¿ç”¨ä¹‹å‰**

æ— å¤´æ¨¡å¼Â vsÂ æ­£å¸¸æ˜¾ç¤ºé¡µé¢

![](/images/02415b20/1.png)

**ä½¿ç”¨ä¹‹å**

![](/images/02415b20/2.png)

åŸå›¾åœ¨é¡¹ç›®é‡Œ, è™½ç„¶çœ‹ä¸æ¸…, ä½†æ˜¯å¯ä»¥çœ‹åˆ°ä½¿ç”¨ä¹‹åæ— å¤´æµè§ˆå™¨æ¯”æ­£å¸¸è¿è¡Œçš„è¿˜åƒÂ Â·çœŸæµè§ˆå™¨Â·, ğŸ˜‚,Â æœ‰å…´è¶£çš„å¯ä»¥è¯•ä¸€è¯•

![](/images/02415b20/3.png)