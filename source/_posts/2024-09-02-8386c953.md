---
layout:     post
title:      "人大金仓数据库设置大小写敏感"
subtitle:   
date:       2024-09-02
author:     胖胖不胖
thumbnail:  /images/8386c953/thumbnail.png
catalog: true
categories: 数据库
original_url: https://mp.weixin.qq.com/s/TplEnSoxCC0rViBmoalIyg
tags:
    - 数据库
---

# **转自 [查拉图斯特拉面条] 文末阅读原文~**

# 

之前做过一些人大金仓的设置，做个记录。

本文中数据库安装目录：/u01/Kingbase/ES/V8/data 。（操作应以实际安装路径为准）

---

**1.** **人大金仓数据库应设置大小写不敏感**

**1.1.** **大小写敏感检查方法**

1.1.1. V8R3版本检查方法：

```
在人大金仓数据库客户端执行语句：show case_sensitive;

返回结果on:表示大小写敏感；

返回结果off：表示大小写不敏感
```

1.1.2. V8R6版本检查方法：

```
执行语句：show enable_ci;

返回结果on:表示大小写不敏感；

返回结果off：表示大小写敏感。
```

**1.2.** **大小写不敏感设置方法**

如果人大金仓数据库为大小写敏感，请按如下方法，将人大金仓数据库设置为大小写不敏感。

1.2.1. V8R3版本设置方法：

　　① 进入/u01/Kingbase/ES/V8，将原有data目录备份为data.bak

　  ② 在/u01/Kingbase/ES/V8/Server/bin下，执行initdb -Usystem -W123456 -D data目录 --case-insensitive

　　**命令解释：**

```
-Usystem：system为管理员用户

-W123456: 123456为管理员密码

-D data目录: data目录即数据库安装目录

--case-insensitive ：表示大小写不敏感
```

　　**举例：**

```
initdb -Usystem -Wsystem -D /u01/Kingbase/ES/V8/data --case-insensitive
```

　　③ 重启kingbase生效。

1.2.2. V8R6版本设置方法：

　　① 进入/u01/Kingbase/ES/V8，将原有data目录备份为data.bak

　　② 在/u01/Kingbase/ES/V8/Server/bin下，执行initdb -Usystem -W --enable-ci -D data目录

　　**命令解释：**

```
-Usystem：system为管理员用户

-D data目录: data目录即数据库安装目录

--enable-ci ：表示大小写不敏感
```

　　**举例：**

```
initdb -Usystem -W --enable-ci -D /u01/Kingbase/ES/V8/data
```

　　随后输入管理员用户密码

　　③ 重启kingbase生效。

**2.** **修改人大金仓数据库配置文件（kingbase.conf）**

**2.1. 编辑kingbase.conf\***\*\*\*

```
sudo –i                            #切换为root用户
sudo – kingbase                    #切换为kingbase用户
cd /u01/Kingbase/ES/V8/data        #切换工作目录至人大金仓服务
vim kingbase.conf                  #编辑kingbase.conf
```

**2.2. 重载数据库配置文件**

```
sys_ctl restart -D /u01/Kingbase/ES/V8/data   #重载配置文件
sudo –i #从kingbase用户切换为root用户
service kingbase8d restart  #重启人大金仓服务
```

![](/images/8386c953/1.png)